(()=>{"use strict";var e=function(e){e.classList.add("popup_is-opened"),c()},t=function(e){e.classList.remove("popup_is-opened"),a()},n=function(e){if("Escape"===e.key){var n=document.querySelector(".popup_is-opened");t(n)}},r=function(e){e.target.classList.contains("popup")&&t(e.target)},o=function(e){e.target.closest(".popup__close")&&t(e.target.closest(".popup"))},c=function(){document.addEventListener("click",o),document.addEventListener("keydown",n),document.addEventListener("click",r)},a=function(){document.removeEventListener("click",o),document.removeEventListener("keydown",n),document.removeEventListener("click",r)},u=document.querySelector("#card-template").content,p=function(e,t,n,r,o){var c=u.querySelector(".places__item").cloneNode(!0),a=c.querySelector(".card__image");return a.addEventListener("click",o),c.querySelector(".card__title").textContent=e,a.alt=e,a.src=t,c.querySelector(".card__delete-button").addEventListener("click",r),c.querySelector(".card__like-button").addEventListener("click",n),c},d=function(e){e.target.closest(".card").remove()},i=function(e){e.target.classList.toggle("card__like-button_is-active")},s=document.querySelector(".places__list"),l=document.querySelector(".profile__edit-button"),m=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),v=document.querySelector(".profile__add-button"),y=document.querySelector(".popup_type_edit"),f=y.querySelector(".popup__form"),k=f.querySelector('input[name="name"]'),q=f.querySelector('input[name="description"]'),S=document.querySelector(".popup_type_new-card"),g=S.querySelector(".popup__form"),L=g.querySelector('input[name="place-name"]'),E=g.querySelector('input[name="link"]'),x=document.querySelector(".popup__image"),h=document.querySelector(".popup__caption"),b=document.querySelector(".popup_type_image"),C=function(t){var n=t.target.closest(".card"),r=n.querySelector(".card__image"),o=n.querySelector(".card__title");x.src=r.src,x.alt=o.alt,h.textContent=o.textContent,e(b)};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=e.name,n=e.link,r=p(t,n,i,d,C);s.append(r)})),l.addEventListener("click",(function(){e(y),k.value=m.textContent,q.value=_.textContent})),f.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=k.value,_.textContent=q.value,f.reset(),t(y)})),v.addEventListener("click",(function(){e(S)})),g.addEventListener("submit",(function(e){e.preventDefault();var n=p(L.value,E.value,i,d,C);s.prepend(n),g.reset(),t(S)}))})();